{"version":3,"sources":["webpack:///./src/lib-components/kalendar-event.vue?273d","webpack:///src/lib-components/kalendar-event.vue","webpack:///./src/lib-components/kalendar-event.vue?ec3a","webpack:///./src/lib-components/kalendar-event.vue","webpack:///./src/lib-components/kalendar-event.vue?46c6"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","event","staticClass","class","isPast","overlaps","total","inspecting","distance","style","width_value","left_offset","top_offset","on","$event","status","attrs","information","_e","staticRenderFns","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,IAAK,oBAAuBN,EAAIO,MAAQ,GAAGC,YAAY,aAAaC,MAAM,CAC5K,UAAWT,EAAIU,OACfC,SAAUX,EAAIW,SAAW,EACzB,aAAcX,EAAIY,MAAQ,EAC1BC,aAAcb,EAAIa,WAClB,mBAAoBb,EAAIO,MAAMO,UAAY,GAC1C,oBACKd,EAAIO,MAAMO,SAAW,IAAMd,EAAIO,MAAMO,SAAW,IAAOd,EAAIW,SAAW,GAC7EI,MAAQ,eAAiBf,EAAIc,SAAW,qBAAuBd,EAAIgB,YAAc,qBAAuBhB,EAAIiB,YAAc,cAAgBjB,EAAIkB,WAAa,MAAQC,GAAG,CAAC,MAAQ,SAASC,GAAQpB,EAAIa,YAAa,GAAM,WAAa,SAASO,GAAQpB,EAAIa,YAAa,KAAS,CAAiB,aAAfb,EAAIqB,QAAwC,oBAAfrB,EAAIqB,OAA8BjB,EAAG,gBAAgB,CAACkB,MAAM,CAAC,aAAatB,EAAIuB,YAAY,KAAO,iBAAiB,KAAO,MAAMnB,EAAG,gBAAgB,CAACkB,MAAM,CAAC,KAAO,gBAAgB,aAAatB,EAAIuB,YAAY,KAAO,MAAsB,oBAAfvB,EAAIqB,OAA8BjB,EAAG,MAAM,CAACI,YAAY,iBAAiB,CAACJ,EAAG,gBAAgB,CAACkB,MAAM,CAAC,KAAO,mBAAmB,KAAO,GAAG,aAAatB,EAAIuB,gBAAgB,GAAGvB,EAAIwB,MAAM,IACnsBC,EAAkB,G,YCuCtB,GACE,MAAF,qCACE,QAFF,aAGE,OAAF,qBACE,KAAF,WAAI,MAAJ,CACM,YAAN,EACM,SAAN,IAEE,SAAF,CACI,OADJ,WAEM,IAAN,2CACM,OAAN,0CAEI,YALJ,WAMM,MAAN,yDACA,WADA,OAGI,YATJ,WAUM,MAAN,sEACA,GADA,qBAGI,WAbJ,WAcM,OAAN,wCACA,8BADA,aAII,SAlBJ,WAmBM,GAAN,WAAM,CACA,IAAN,uCAEM,MAAN,6CAEI,OAxBJ,WAyBM,OAAN,6CAEI,YA3BJ,WA4BM,IAAN,aAAU,EAAV,QAAU,EAAV,MAAU,EAAV,OAAU,EAAV,KAAU,EAAV,MACA,GACQ,WAAR,wBACQ,SAAR,wBACQ,YAAR,EACQ,IAAR,EACQ,KAAR,GAEM,OAAN,GAEI,UAtCJ,WAuCM,KAAN,wBACM,KAAN,YAEI,gBA1CJ,WA2CM,KAAN,cCnGwV,I,wBCQpVC,EAAY,eACd,EACA3B,EACA0B,GACA,EACA,KACA,KACA,MAIa,aAAAC,E,kECnBf,yBAAmhB,EAAG","file":"js/chunk-cfd36908.0534e3e0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:(\"kalendarEventRef-\" + (_vm.event.id)),staticClass:\"event-card\",class:{\n        'is-past': _vm.isPast,\n        overlaps: _vm.overlaps > 0,\n        'two-in-one': _vm.total > 1,\n        inspecting: !!_vm.inspecting,\n        'event-card__mini': _vm.event.distance <= 10,\n        'event-card__small':\n            (_vm.event.distance > 10 && _vm.event.distance < 40) || _vm.overlaps > 1,\n    },style:((\"\\n  height: \" + _vm.distance + \"; \\n  width: calc(\" + _vm.width_value + \"); \\n  left: calc(\" + _vm.left_offset + \");\\n  top: \" + _vm.top_offset + \";\\n\")),on:{\"click\":function($event){_vm.inspecting = true},\"mouseleave\":function($event){_vm.inspecting = false}}},[(_vm.status === 'creating' || _vm.status === 'popup-initiated')?_c('portal-target',{attrs:{\"slot-props\":_vm.information,\"name\":\"event-creation\",\"slim\":\"\"}}):_c('portal-target',{attrs:{\"name\":\"event-details\",\"slot-props\":_vm.information,\"slim\":\"\"}}),(_vm.status === 'popup-initiated')?_c('div',{staticClass:\"popup-wrapper\"},[_c('portal-target',{attrs:{\"name\":\"event-popup-form\",\"slim\":\"\",\"slot-props\":_vm.information}})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div\r\n        class=\"event-card\"\r\n        :ref=\"`kalendarEventRef-${event.id}`\"\r\n        :style=\"\r\n            `\r\n      height: ${distance}; \r\n      width: calc(${width_value}); \r\n      left: calc(${left_offset});\r\n      top: ${top_offset};\r\n    `\r\n        \"\r\n        @click=\"inspecting = true\"\r\n        @mouseleave=\"inspecting = false\"\r\n        :class=\"{\r\n            'is-past': isPast,\r\n            overlaps: overlaps > 0,\r\n            'two-in-one': total > 1,\r\n            inspecting: !!inspecting,\r\n            'event-card__mini': event.distance <= 10,\r\n            'event-card__small':\r\n                (event.distance > 10 && event.distance < 40) || overlaps > 1,\r\n        }\"\r\n    >\r\n        <portal-target\r\n            v-if=\"status === 'creating' || status === 'popup-initiated'\"\r\n            :slot-props=\"information\"\r\n            name=\"event-creation\"\r\n            slim\r\n        />\r\n        <portal-target\r\n            v-else\r\n            name=\"event-details\"\r\n            :slot-props=\"information\"\r\n            slim\r\n        />\r\n        <div v-if=\"status === 'popup-initiated'\" class=\"popup-wrapper\">\r\n            <portal-target\r\n                name=\"event-popup-form\"\r\n                slim\r\n                :slot-props=\"information\"\r\n            />\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { isBefore, getLocaleTime, addTimezoneInfo } from './utils.js';\r\n\r\nexport default {\r\n    props: ['event', 'total', 'index', 'overlaps'],\r\n    created() {},\r\n    inject: ['kalendar_options'],\r\n    data: () => ({\r\n        inspecting: false,\r\n        editing: false,\r\n    }),\r\n    computed: {\r\n        isPast() {\r\n            let now = getLocaleTime(new Date().toISOString());\r\n            return isBefore(this.event.start.value, now);\r\n        },\r\n        width_value() {\r\n            return `${100 / this.total}% - ${(this.overlaps * 50) /\r\n                this.total}px`;\r\n        },\r\n        left_offset() {\r\n            return `(${this.index} * (${this.width_value})) + ${this.overlaps *\r\n                50}px`;\r\n        },\r\n        top_offset() {\r\n            return this.event.start.round_offset\r\n                ? `${this.event.start.round_offset}px`\r\n                : `0px`;\r\n        },\r\n        distance() {\r\n            if (!this.event) return;\r\n            let multiplier = this.kalendar_options.cell_height / 10;\r\n            // 0.5 * multiplier for an offset so next cell is easily selected\r\n            return `${this.event.distance * multiplier - 0.2 * multiplier}px`;\r\n        },\r\n        status() {\r\n            return (this.event && this.event.status) || this.editing;\r\n        },\r\n        information() {\r\n            let { start, end, data, id, key } = this.event;\r\n            let payload = {\r\n                start_time: addTimezoneInfo(start.value),\r\n                end_time: addTimezoneInfo(end.value),\r\n                kalendar_id: id,\r\n                key,\r\n                data,\r\n            };\r\n            return payload;\r\n        },\r\n        editEvent() {\r\n            this.$kalendar.closePopups();\r\n            this.editing = true;\r\n        },\r\n        closeEventPopup() {\r\n            this.editing = false;\r\n        },\r\n    },\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n$creator-bg: #34aadc;\r\n$creator-content: white;\r\n\r\n.event-card {\r\n    display: flex;\r\n    flex-direction: column;\r\n    height: 100%;\r\n    width: 100%;\r\n\r\n    h4,\r\n    p,\r\n    span {\r\n        margin: 0px;\r\n    }\r\n\r\n    > * {\r\n        flex: 1;\r\n        position: relative;\r\n    }\r\n\r\n    &.creating {\r\n        z-index: -1;\r\n    }\r\n\r\n    &.overlaps > * {\r\n        border: solid 1px white !important;\r\n    }\r\n\r\n    &.inspecting {\r\n        z-index: 11 !important;\r\n\r\n        .created-event {\r\n            box-shadow: 0 6px 10px 0 rgba(0, 0, 0, 0.14),\r\n                0 1px 18px 0 rgba(0, 0, 0, 0.12),\r\n                0 3px 5px -1px rgba(0, 0, 0, 0.2);\r\n            transition: opacity 100ms linear;\r\n        }\r\n    }\r\n\r\n    &__mini {\r\n        .created-event > .details-card > * {\r\n            display: none;\r\n        }\r\n\r\n        .appointment-title,\r\n        .time {\r\n            display: block !important;\r\n            position: absolute;\r\n            top: 0;\r\n            font-size: 9px;\r\n            z-index: 1;\r\n            overflow: visible;\r\n            height: 100%;\r\n        }\r\n    }\r\n\r\n    &__small {\r\n        .appointment-title {\r\n            font-size: 80%;\r\n        }\r\n\r\n        .time {\r\n            font-size: 70%;\r\n        }\r\n    }\r\n\r\n    &.two-in-one .details-card > * {\r\n        font-size: 60%;\r\n    }\r\n\r\n    position: absolute;\r\n    pointer-events: none;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0; //z-index: 20!important;\r\n    //background-color: rgba($creator-bg, .85);\r\n    color: $creator-content;\r\n    user-select: none;\r\n    will-change: height; //padding: 4px 6px;\r\n\r\n    h1,\r\n    h2,\r\n    h3,\r\n    h4,\r\n    h5,\r\n    h6,\r\n    p {\r\n        margin: 0px;\r\n    }\r\n}\r\n\r\n.time {\r\n    position: absolute;\r\n    bottom: 0px;\r\n    right: 0px;\r\n    font-size: 11px;\r\n}\r\n\r\n.popup-wrapper {\r\n    text-shadow: none;\r\n    color: black;\r\n    z-index: 10;\r\n    position: absolute;\r\n    top: 0;\r\n    left: calc(100% - 120px);\r\n    display: flex;\r\n    flex-direction: column;\r\n    pointer-events: all;\r\n    user-select: none;\r\n    background-color: white;\r\n    border: solid 1px rgba(black, 0.08);\r\n    border-radius: 4px;\r\n    box-shadow: 0px 2px 12px -3px rgba(black, 0.3);\r\n    padding: 10px;\r\n\r\n    h4 {\r\n        color: black;\r\n        font-weight: 400;\r\n    }\r\n\r\n    input,\r\n    textarea {\r\n        border: none;\r\n        background-color: darken(white, 8);\r\n        color: lighten(black, 1);\r\n        border-radius: 4px;\r\n        padding: 5px 8px;\r\n        margin-bottom: 5px;\r\n    }\r\n}\r\n\r\n.created-event {\r\n    pointer-events: all;\r\n    position: relative;\r\n\r\n    > .details-card {\r\n        max-width: 100%;\r\n        width: 100%;\r\n        overflow: hidden;\r\n        position: relative;\r\n        white-space: nowrap;\r\n        text-overflow: ellipsis;\r\n        display: -webkit-box;\r\n        -webkit-line-clamp: 3;\r\n        -webkit-box-orient: vertical;\r\n\r\n        > h1,\r\n        h2,\r\n        h3,\r\n        h4,\r\n        p,\r\n        small,\r\n        strong,\r\n        span {\r\n            text-overflow: ellipsis;\r\n            overflow: hidden;\r\n            display: block;\r\n        }\r\n    }\r\n}\r\n\r\nul:last-child .popup-wrapper {\r\n    left: auto;\r\n    right: 0%;\r\n    margin-right: 10px;\r\n}\r\n\r\n.day-view ul .popup-wrapper {\r\n    left: auto;\r\n    right: auto;\r\n    width: calc(100% - 10px);\r\n    top: 10px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./kalendar-event.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./kalendar-event.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./kalendar-event.vue?vue&type=template&id=d2955e68&\"\nimport script from \"./kalendar-event.vue?vue&type=script&lang=js&\"\nexport * from \"./kalendar-event.vue?vue&type=script&lang=js&\"\nimport style0 from \"./kalendar-event.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./kalendar-event.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./kalendar-event.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}